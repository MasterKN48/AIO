(this.webpackJsonpaio=this.webpackJsonpaio||[]).push([[7],{67:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n(31),i=n(32),o=n(0),l=n.n(o),c=n(37),s=n.n(c);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u="undefined"!=typeof window&&window.cordova&&window.cordova.require("cordova/modulemapper"),d=u&&u.getOriginalSymbol(window,"File")||File,f=u&&u.getOriginalSymbol(window,"FileReader")||FileReader;function h(e){return new Promise((function(t,n){var a=new f;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((function(a){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),l=o.length,c=new Uint8Array(l);l--;)c[l]=o.charCodeAt(l);var s=new Blob([c],{type:i});s.name=t,s.lastModified=n,a(s)}))}function p(e){return new Promise((function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=function(e){return n(e)},a.src=e}))}function w(e){var t=m(I(e.width,e.height),2),n=t[0];return t[1].drawImage(e,0,0,n.width,n.height),n}function v(e){return new Promise((function(t,n){var a,r,i=function(){try{return r=w(a),t([a,r])}catch(e){return n(e)}},o=function(t){try{return h(e).then((function(e){try{return p(e).then((function(e){try{return a=e,i()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){return n(e)}};try{return createImageBitmap(e).then((function(e){try{return a=e,i()}catch(e){return o()}}),o)}catch(e){o()}}))}function E(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(i,o){var l;return"function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?e.convertToBlob({type:t,quality:r}).then(function(e){try{return(l=e).name=n,l.lastModified=a,c.call(this)}catch(e){return o(e)}}.bind(this),o):g(e.toDataURL(t,r),n,a).then(function(e){try{return l=e,c.call(this)}catch(e){return o(e)}}.bind(this),o);function c(){return i(l)}}))}function y(e){return new Promise((function(t,n){var a=new f;a.onload=function(e){var n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);for(var a=n.byteLength,r=2;r<a;){if(n.getUint16(r+2,!1)<=8)return t(-1);var i=n.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!=n.getUint32(r+=2,!1))return t(-1);var o=18761==n.getUint16(r+=6,!1);r+=n.getUint32(r+4,o);var l=n.getUint16(r,o);r+=2;for(var c=0;c<l;c++)if(274==n.getUint16(r+12*c,o))return t(n.getUint16(r+12*c+8,o))}else{if(65280!=(65280&i))break;r+=n.getUint16(r,!1)}}return t(-1)},a.onerror=function(e){return n(e)},a.readAsArrayBuffer(e)}))}function b(e,t){var n,a=e.width,r=e.height,i=t.maxWidthOrHeight,o=e;if(Number.isInteger(i)&&(a>i||r>i)){var l=m(I(a,r),2);o=l[0],n=l[1],a>r?(o.width=i,o.height=r/a*i):(o.width=a/r*i,o.height=i),n.drawImage(e,0,0,o.width,o.height)}return o}function C(e,t){var n=e.width,a=e.height,r=m(I(n,a),2),i=r[0],o=r[1];switch(4<t&&t<9?(i.width=a,i.height=n):(i.width=n,i.height=a),t){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,a);break;case 4:o.transform(1,0,0,-1,0,a);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,a,0);break;case 7:o.transform(0,-1,-1,0,a,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,a),i}function I(e,t){var n,a;try{a=(n=new OffscreenCanvas(e,t)).getContext("2d")}catch(e){a=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=t,[n,a]}function F(e,t){return new Promise((function(n,a){var r,i,o,l,c,s;return r=t.maxIteration||10,i=1024*t.maxSizeMB*1024,v(e).then(function(u){try{var d=m(u,2);return d[0],o=b(o=d[1],t),new Promise((function(n,a){var r;if(!(r=t.exifOrientation))return y(e).then(function(e){try{return r=e,i.call(this)}catch(e){return a(e)}}.bind(this),a);function i(){return n(r)}return i.call(this)})).then(function(u){try{return t.exifOrientation=u,o=C(o,t.exifOrientation),l=1,E(o,e.type,e.name,e.lastModified,l).then(function(t){try{var u,d=function t(){if(r--&&s.size>i){var n,c,u,d=m(I(n=.9*o.width,c=.9*o.height),2);return u=d[0],d[1].drawImage(o,0,0,n,c),"image/jpeg"===e.type&&(l*=.9),E(u,e.type,e.name,e.lastModified,l).then((function(e){try{return s=e,o=u,t}catch(e){return a(e)}}),a)}return[1]},f=function(){return n(s)};return(c=t).size<=i?n(c):(s=c,(u=function(e){for(;e;){if(e.then)return void e.then(u,a);try{if(e.pop){if(e.length)return e.pop()?f.call(this):e;e=d}else e=e.call(this)}catch(e){return a(e)}}}.bind(this))(d))}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}))}var O,x=0,N=function(e){return new Worker(URL.createObjectURL(new Blob(["(".concat(e,")()")])))}((function(){var e=!1;self.addEventListener("message",(function(t){return new Promise((function(n,a){var r,i,o,l,c=t.data;r=c.file,i=c.id,o=c.imageCompressionLibUrl,l=c.options;var s=function(){try{return n()}catch(e){return a(e)}},m=function(e){try{return self.postMessage({error:e.message+"\n"+e.stack,id:i}),s()}catch(e){return a(e)}};try{var u;return e||(importScripts(o),e=!0),k(r,l).then((function(e){try{return u=e,self.postMessage({file:u,id:i}),s()}catch(e){return m(e)}}),m)}catch(e){m(e)}}))}))}));function U(e,t){return new Promise((function(n,a){return new Promise((function(r,i){O||(O=function(e){return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}("\n    function imageCompression (){return (".concat(k,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(k.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(k.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(k.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(k.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(k.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(k.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(k.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(k.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(k.followExifOrientation,"\n\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n\n    getNewCanvasAndCtx = ").concat(I,"\n    \n    CustomFileReader = FileReader\n    \n    CustomFile = File\n    \n    function _slicedToArray(arr, n) { return arr }\n\n    function compress (){return (").concat(F,").apply(null, arguments)}\n    ")));var o=x++;return N.addEventListener("message",(function e(t){t.data.id===o&&(N.removeEventListener("message",e),t.data.error&&a(new Error(t.data.error)),n(t.data.file))})),N.postMessage({file:e,id:o,imageCompressionLibUrl:O,options:t}),r()}))}))}function k(e,t){return new Promise((function(n,a){var r,i;if(t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,t.useWebWorker="boolean"!=typeof t.useWebWorker||t.useWebWorker,!(e instanceof Blob||e instanceof d))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(new Error("The file given is not an image"));if(i="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!t.useWebWorker||"function"!=typeof Worker||i)return F(e,t).then(function(e){try{return r=e,c.call(this)}catch(e){return a(e)}}.bind(this),a);var o=function(){try{return c.call(this)}catch(e){return a(e)}}.bind(this),l=function(n){try{return console.warn("Run compression in web worker failed:",n,", fall back to main thread"),F(e,t).then((function(e){try{return r=e,o()}catch(e){return a(e)}}),a)}catch(e){return a(e)}};try{return U(e,t).then((function(e){try{return r=e,o()}catch(e){return l(e)}}),l)}catch(e){l(e)}function c(){try{r.name=e.name,r.lastModified=e.lastModified}catch(e){}return n(r)}}))}k.getDataUrlFromFile=h,k.getFilefromDataUrl=g,k.loadImage=p,k.drawImageInCanvas=w,k.drawFileInCanvas=v,k.canvasToFile=E,k.getExifOrientation=y,k.handleMaxWidthOrHeight=b,k.followExifOrientation=C;var B=k;t.default=function(){var e=Object(o.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],m=Object(o.useState)(!1),u=Object(i.a)(m,2),d=u[0],f=u[1],h=Object(o.useState)(!1),g=Object(i.a)(h,2),p=g[0],w=g[1],v=Object(o.useState)({from:""}),E=Object(i.a)(v,2),y=E[0],b=E[1];return l.a.createElement("section",{className:"container"},l.a.createElement("div",{className:"level is-mobile"},l.a.createElement("div",{className:"level-item has-text-centered"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control has-icons-left"},l.a.createElement("div",{className:"select is-rounded"},l.a.createElement("select",{name:"from",onChange:function(e){b(Object(r.a)({},y,Object(a.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{defaultValue:!0},"Original File Types"),l.a.createElement("option",null,"PDF"),l.a.createElement("option",null,"PNG"),l.a.createElement("option",null,"JPEG/JPG"),l.a.createElement("option",null,"WEBP"),l.a.createElement("option",null,"ICO"))),l.a.createElement("div",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-globe"})))))),l.a.createElement("p",{style:{color:"red"}},"*All Compression algo working except pdf compression*"),l.a.createElement("div",{className:"level is-mobile"},l.a.createElement("div",{className:"level-item has-text-centered"},l.a.createElement("div",{className:"file is-dark has-name is-boxed"},l.a.createElement("label",{className:"file-label"},l.a.createElement("input",{className:"file-input",type:"file",name:"image",accept:"image/*",onChange:function(e){c(e.target.files[0])}}),l.a.createElement("span",{className:"file-cta"},l.a.createElement("span",{className:"file-icon"},l.a.createElement("i",{className:"fas fa-upload"})),l.a.createElement("span",{className:"file-label"},"Choose a file\u2026")),l.a.createElement("span",{className:"file-name"},null===n?null:n.name))))),l.a.createElement("div",{className:"level has-centered"},p?l.a.createElement("div",{className:"columns level-item has-centered"},l.a.createElement("div",{className:"column is-two-thirds"},l.a.createElement("progress",{className:"progress is-dark",max:"100"},"30%"))):l.a.createElement("div",{className:"level-item has-centered"},l.a.createElement("button",{className:"button is-dark is-rounded",onClick:function(e){if(e.preventDefault(),null!==n)if(n.size>112582912)alert("File Size must be less then 11mb.");else if(""!==y.from&&"Original File Types"!==y.from){if(y.from.toLowerCase()!==n.name.split(".").pop()){if("JPEG/JPG"!==y.from)return alert("Mismatch in selected file type: "+n.name.split(".").pop()+" with 'From' Select box: "+y.from.toLowerCase()),!1;if("jpg"!==n.name.split(".").pop()&&"jpeg"!==n.name.split(".").pop())return alert("Mismatch in selected file type: "+n.name.split(".").pop()+" with 'From' Select box: "+y.from.toLowerCase()),!1}if(f(!1),w(!0),"JPEG/JPG"!==y.from&&"PNG"!==y.from&&"ICO"!==y.from||function(e,t,n){var a=1;700>e.size/1024&&(a=.5),a=10>e.size/1024?.01:1,B(e,{maxSizeMB:a,maxWidthOrHeight:1920,useWebWorker:!0}).then((function(a){var r=a,i=new FileReader;i.readAsDataURL(r),i.onloadend=function(){var r=i.result;t(!1),n(!0),document.getElementById("size").innerText="File Size: "+(a.size/1024).toFixed(2)+"kb",document.getElementById("downloader").download=e.name,document.getElementById("downloader").href=r}})).catch((function(e){console.log(e.message)}))}(n,w,f),"WEBP"===y.from){var t=new FileReader;t.readAsDataURL(n),t.onload=function(){!function(e){var t=document.getElementById("jpgtopng").getContext("2d"),n=new Image;t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight,n.onload=function(){t.drawImage(n,0,0,window.innerWidth,window.innerHeight)},n.src=e,setTimeout((function(){var e=document.getElementById("jpgtopng").toDataURL("image/webp",.03).replace(/^data:image\/[^;]/,"data:application/octet-stream"),t=Math.round(3*(e.length-"data:image/webp;base64,".length)/4)/1024;document.getElementById("size").innerText="File Size: "+t.toFixed(2)+"kb"}),3e3)}(t.result)}}if("PDF"===y.from){var a=new FileReader;a.readAsArrayBuffer(n),a.onload=function(){!function(e){console.log(e);var t=document.getElementById("jpgtopng").getContext("2d"),n=new Image;t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight,n.onload=function(){t.drawImage(n,0,0,window.innerWidth,window.innerHeight)},n.src=e}(a.result)}}}else alert("'From' file type is not selected!");else alert("Please first select file and types")}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-dice-d20"})),l.a.createElement("span",null,"Convert")))),l.a.createElement("canvas",{className:"container has-centered",id:"jpgtopng",style:{display:"none"}}),l.a.createElement("div",{className:"has-centered"},d?l.a.createElement("div",{className:"has-centered"},l.a.createElement("div",{className:"container level-item has-centered"},l.a.createElement("p",null,"Your converted file is ready to download!")),l.a.createElement("div",{className:"container level-item has-centered"},l.a.createElement("p",{id:"size"})),l.a.createElement("br",null),l.a.createElement("div",{className:"container level-item has-centered"},l.a.createElement("a",{onClick:function(){"WEBP"===y.from&&function(e,t){document.getElementById("downloader").download=e+".webp";for(var n=document.getElementById("jpgtopng").toDataURL("image/webp",.7).replace(/^data:image\/[^;]/,"data:application/octet-stream"),a=atob(n.split(",")[1]),r=n.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(a.length),o=new Uint8Array(i),l=0;l<a.length;l++)o[l]=a.charCodeAt(l);var c=new DataView(i),s=new Blob([c],{type:r});document.getElementById("downloader").href=URL.createObjectURL(s),t(!1)}(n.name.split(".")[0],f),"PDF"===y.from&&function(e){document.getElementById("downloader").download=e+".pdf";var t=document.getElementById("jpgtopng").toDataURL("image/jpeg",.3),n=new s.a("p","mm","a4",!0);n.addImage(t,"JPEG",5,0,210,297,void 0,"FAST"),n.save(e+".pdf")}(n.name.split(".")[0])},id:"downloader",href:"#i",className:"button is-dark is-outlined"},l.a.createElement("span",{className:"icon is-small"},l.a.createElement("i",{className:"fas fa-download"}))))):null),l.a.createElement("hr",null))}}}]);
//# sourceMappingURL=7.e1a62062.chunk.js.map